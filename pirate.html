<!DOCTYPE html>
<html lang="en">
<head>
    <title>Assignment07</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
      </head>
<body>
<h1 class="text-primary" style="--bs-text-opacity: .5;">Find the treasure by Karanam Gopichand</h1>
<br>
<div class="container-fluid">
  <div class="bg-dark p-2 text-emphasis-dark bg-opacity-25">Click on the locations to search for treasure, beware the traps</div>
  <div class="bg-white p-2 text-emphasis-dark" id="locations">Number of locations checked is zero</div>
  <div class="bg-white p-2 bg-opacity-10" id="penalty">Penalty is zero.</div>
  <div class="bg-white p-2 bg-opacity-50" id="penalty" onclick="help()">Click for help.</div>
  <div class="bg-white p-2 text-emphasis-dark" id="help"> Help report.</div>
</div>
<div class="container">
  <div class="image-container">
  <div class="row">
    <div class="col-1"><img src="vintage.jpeg" alt="Position 1" width="100" height="100" id="0" onclick="check(0)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 2" width="100" height="100" id="1" onclick="check(1)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 3" width="100" height="100" id="2" onclick="check(2)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 4" width="100" height="100" id="3" onclick="check(3)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 5" width="100" height="100" id="4" onclick="check(4)"></div>
  </div>
  <div class="row">
    <div class="col-1"><img src="vintage.jpeg" alt="Position 1" width="100" height="100" id="5" onclick="check(5)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 2" width="100" height="100" id="6" onclick="check(6)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 3" width="100" height="100" id="7" onclick="check(7)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 4" width="100" height="100" id="8" onclick="check(8)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 5" width="100" height="100" id="9"onclick="check(9)"></div>
  </div>
  <div class="row">
    <div class="col-1"><img src="vintage.jpeg" alt="Position 1" width="100" height="100" id="10" onclick="check(10)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 2" width="100" height="100" id="11" onclick="check(11)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 3" width="100" height="100" id="12" onclick="check(12)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 4" width="100" height="100" id="13" onclick="check(13)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 5" width="100" height="100" id="14" onclick="check(14)"></div>
  </div>
  <div class="row">
    <div class="col-1"><img src="vintage.jpeg" alt="Position 1" width="100" height="100" id="15" onclick="check(15)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 2" width="100" height="100" id="16" onclick="check(16)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 3" width="100" height="100" id="17" onclick="check(17)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 4" width="100" height="100" id="18" onclick="check(18)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 5" width="100" height="100" id="19" onclick="check(19)"></div>
  </div>
  <div class="row row-cols-auto">
    <div class="col-1"><img src="vintage.jpeg" alt="Position 1" width="100" height="100" id="20" onclick="check(20)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 2" width="100" height="100" id="21" onclick="check(21)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 3" width="100" height="100" id="22" onclick="check(22)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 4" width="100" height="100" id="23" onclick="check(23)"></div>
    <div class="col-1"><img src="vintage.jpeg" alt="Position 5" width="100" height="100" id="24" onclick="check(24)"></div>
  </div>
  </div>
</body>
  <script>
    let ids = []
    for(let i=0;i<25;i++)
    {
      ids[i]=i;
    }
    let checkCount = 0
    let penalty = 0
    let lastCheck = 0
    let treasureLocation = 5
    let trapLocation = 18
    let gameOver = false
    function check(p)
    {
      if(gameOver)
      {
        return
      }
      const img_id = ids[p]
      tre_loc_img = document.getElementById(img_id)
      if(p==treasureLocation)
      {
        tre_loc_img.src ="treasure.jpg"
        gameOver=true
        penalty = penalty-3
      }
      else if (p== trapLocation)
      {
        tre_loc_img.src ="trap.jpeg"
        gameOver=true
        penalty=penalty+4
      }
      else
      {
        tre_loc_img.src="bones.jpeg"
      }
      checkCount=checkCount+1
      penalty=penalty+1
      loc_text = document.getElementById("locations")
      loc_text.innerHTML = `Number of locations checked is ${checkCount}`
      pen_text = document.getElementById("penalty")
      pen_text.innerHTML=`Penalty is ${penalty}`
      lastCheck=p
  }
    function help()
    {
      let col = lastCheck%5
      let row = Math.floor(lastCheck/5)
      let treasureCol = treasureLocation%5
      let treasureRow = Math.floor(treasureLocation/5)
      let col_diff = Math.abs(col-treasureCol) 
      let row_diff = Math.abs(row-treasureRow)
      let report = ""
      if(((col_diff<=1)&&(row_diff==0))||((col_diff==0)&&(row_diff<=1)))
      {
        report = "Can smell it"
      }
      else if(col_diff+row_diff==2)
      {
        report = "Close Matie"
      }
      else
      {
        report = "Step Faster"
      }
      penalty=penalty+2
      pen_text = document.getElementById("penalty")
      pen_text.innerHTML=`Penalty is ${penalty}`
      help_text = document.getElementById("help")
      help_text.innerHTML=`Help report ${report}`
    }
</script>
</html>  
  